(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{530:function(e,r,t){"use strict";t.d(r,"b",(function(){return c})),t.d(r,"a",(function(){return f}));var n=t(18);t(62);function c(e,r){return o.apply(this,arguments)}function o(){return(o=Object(n.a)(regeneratorRuntime.mark((function e(r,t){var n,data,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.$accessor.SET_LOADING(!0),e.next=4,r.$supabase.from("scores").insert(t);case 4:if(n=e.sent,data=n.data,!(c=n.error)){e.next=9;break}throw c;case 9:return e.abrupt("return",data);case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function f(e,r){return l.apply(this,arguments)}function l(){return(l=Object(n.a)(regeneratorRuntime.mark((function e(r,t){var n,data,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$supabase.from("scores").select("*").eq("user_id",t);case 3:if(n=e.sent,data=n.data,!(c=n.error)){e.next=8;break}throw c;case 8:return e.abrupt("return",data);case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}},619:function(e,r,t){"use strict";t.r(r);var n=t(236),c=t(511),o=t(488),f=t(610),l=t(617),v=t(611),d=t(624),m=t(605),_=t(57),h=t(218),w=(t(61),t(18)),x=(t(35),t(62),t(0));t(595);function R(e,r){return k.apply(this,arguments)}function k(){return(k=Object(w.a)(regeneratorRuntime.mark((function e(r,t){var n,data,c,o,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$supabase.from("user_info").select("*").eq("id",t).single();case 3:if(n=e.sent,data=n.data,c=n.error,o=n.status,f=data,!c||406===o){e.next=12;break}throw c;case 12:return e.next=14,O(r,{id:t});case 14:f=e.sent;case 15:return e.abrupt("return",f);case 18:e.prev=18,e.t0=e.catch(0),alert(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function O(e,r){return y.apply(this,arguments)}function y(){return(y=Object(w.a)(regeneratorRuntime.mark((function e(r,t){var n,c,data,o,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$supabase.from("user_info").upsert(t);case 3:if(c=e.sent,data=c.data,!(o=c.error)){e.next=8;break}throw o;case 8:return f=null===(n=data)||void 0===n?void 0:n.at(0),e.abrupt("return",f);case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var j=t(530),S=x.a.extend({data:function(){var e;return{user_info:{id:null===(e=this.$accessor.saved.user)||void 0===e?void 0:e.id},scores:[],headers:[{text:"Score",value:"score"},{text:"Date",value:"created_at"}]}},mounted:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.$accessor.SET_LOADING(!0),r.next=3,e.get_profile();case 3:return r.next=5,e.get_scores();case 5:e.$accessor.SET_LOADING(!1);case 6:case"end":return r.stop()}}),r)})))()},methods:{get_scores:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.a)(e,e.user_info.id);case 2:t=r.sent,e.scores=t||e.scores;case 4:case"end":return r.stop()}}),r)})))()},get_profile:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R(e,e.user_info.id);case 2:t=r.sent,e.user_info=t||e.user_info;case 4:case"end":return r.stop()}}),r)})))()},update_profile:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(e,e.user_info);case 2:t=r.sent,e.user_info=t||e.user_info;case 4:case"end":return r.stop()}}),r)})))()},get_date:function(e){var r=new Date(e);return"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())}},computed:{scores_with_dates:function(){var e=this;return this.scores.map((function(r){return r.created_at=e.get_date(r.created_at),r}))}}}),$=t(96),component=Object($.a)(S,(function(){var e=this,r=e._self._c;e._self._setupProxy;return r(f.a,[r(c.a,[r(_.a,{attrs:{dense:""}},[r(h.a,[e._v("\n        Profile Info\n      ")])],1),e._v(" "),r(o.b,[r(v.a,{on:{submit:function(r){return r.preventDefault(),e.update_profile.apply(null,arguments)}}},[r(m.a,{attrs:{"hide-details":"auto",label:"Username"},model:{value:e.user_info.username,callback:function(r){e.$set(e.user_info,"username",r)},expression:"user_info.username"}}),e._v(" "),r("div",[e._v("\n          Created "+e._s(e.get_date(e.user_info.created_at))+"\n        ")]),e._v(" "),r(n.a,{attrs:{type:"submit"}},[e._v("\n          Save\n        ")])],1)],1)],1),e._v(" "),r(c.a,{staticClass:"mt-3"},[r(_.a,{attrs:{dense:""}},[r(h.a,[e._v("\n        Improvement Summary Graph\n      ")])],1),e._v(" "),r(d.a,{attrs:{labels:e.scores.map((function(e){return e.score})),value:e.scores.map((function(e){return e.score})),"auto-draw":""}})],1),e._v(" "),r(c.a,{staticClass:"mt-3"},[r(_.a,{attrs:{dense:""}},[r(h.a,[e._v("\n        Saved Scores ("+e._s(e.scores.length)+")\n      ")])],1),e._v(" "),r(l.a,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.scores_with_dates,"items-per-page":5}})],1)],1)}),[],!1,null,null,null);r.default=component.exports}}]);