(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{621:function(e,r,t){"use strict";t.r(r);var n=t(236),o=t(511),c=t(488),l=t(560),h=t(610),d=t(611),w=t(559),f=t(605),m=t(18),v=(t(62),t(0).a.extend({data:function(){return{auth:{email:"",password:void 0}}},methods:{handle_login:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function r(){var t,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Logging in..."),r.prev=1,e.$accessor.SET_LOADING(!0),r.next=5,e.$supabase.auth.signIn(e.auth,{redirectTo:window.location.origin});case 5:if(t=r.sent,n=t.user,!(o=t.error)){r.next=10;break}throw o;case 10:void 0===e.auth.password?alert("Check your email for the login link!"):(alert("You're now signed in!"),e.$router.push("/")),e.$accessor.saved.SET_USER(n),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),alert(r.t0.error_description||r.t0.message);case 17:return r.prev=17,e.$accessor.SET_LOADING(!1),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,14,17,20]])})))()},handle_reset_pw:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.$accessor.SET_LOADING(!0),r.next=4,e.$supabase.auth.api.resetPasswordForEmail(e.auth.email,{redirectTo:"".concat(window.location.origin,"/pwreset")});case 4:if(t=r.sent,t.data,!(n=t.error)){r.next=9;break}throw n;case 9:alert("Check your email for the password reset link!"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),alert(r.t0.error_description||r.t0.message);case 15:return r.prev=15,e.$accessor.SET_LOADING(!1),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[0,12,15,18]])})))()}},computed:{show_passwd:function(){return Boolean(this.auth.password||""===this.auth.password)}}})),_=t(96),component=Object(_.a)(v,(function(){var e=this,r=e._self._c;e._self._setupProxy;return r(h.a,{attrs:{"fill-height":""}},[r(w.a,{attrs:{justify:"center",align:"center"}},[r(l.a,{attrs:{cols:"12",sm:"8",md:"6"}},[r(o.a,[r(d.a,{on:{submit:function(r){return r.preventDefault(),e.handle_login.apply(null,arguments)}}},[r(c.b,[r(f.a,{attrs:{label:"Email"},model:{value:e.auth.email,callback:function(r){e.$set(e.auth,"email",r)},expression:"auth.email"}}),e._v(" "),e.show_passwd?r(f.a,{attrs:{label:"Password",type:"password"},model:{value:e.auth.password,callback:function(r){e.$set(e.auth,"password",r)},expression:"auth.password"}}):e._e(),e._v(" "),r(n.a,{attrs:{color:"primary",type:"submit"}},[e._v("\n                "+e._s(e.show_passwd?"Login":"Login with Magic Link")+"\n              ")]),e._v(" "),r(n.a,{on:{click:function(r){e.auth.password=e.show_passwd?void 0:""}}},[e._v("\n                Use Password\n              ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports}}]);